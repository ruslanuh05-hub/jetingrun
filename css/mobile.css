/* mobile.css — мобильная оптимизация для всех страниц */
/* Подключать после основных стилей */

/* Базовые настройки touch и предотвращение overflow */
html, body { -webkit-tap-highlight-color: transparent; touch-action: manipulation; -webkit-text-size-adjust: 100%; overflow-x: hidden; max-width: 100vw; }
button, a, [role="button"] { -webkit-tap-highlight-color: transparent; touch-action: manipulation; }

/* Контейнеры с нижней навигацией — отступ под подвал */
.profile-container,
#injectedPageWrap {
    padding-bottom: max(100px, calc(85px + env(safe-area-inset-bottom, 0))) !important;
}

/* Нижняя навигация (подвал) — оптимизация для мобильных */
.profile-nav {
    max-width: 100vw !important;
    padding: 10px max(10px, env(safe-area-inset-left)) max(14px, env(safe-area-inset-bottom, 14px)) max(10px, env(safe-area-inset-right)) !important;
    box-sizing: border-box !important;
}

.profile-nav-inner {
    max-width: 100% !important;
    gap: 4px !important;
    padding: 6px 4px !important;
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
}

.profile-nav-btn {
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 8px 12px !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
}

.profile-nav-btn:active {
    transform: scale(0.96);
}

@media (max-width: 480px) {
    .profile-nav-inner { gap: 2px !important; padding: 6px 2px !important; }
    .profile-nav-btn { padding: 6px 10px !important; font-size: 0.65rem !important; min-width: 48px !important; }
    .profile-nav-btn i { font-size: 1.15rem !important; }
    .nav-icon-wrapper { min-width: 36px !important; min-height: 36px !important; }
    .profile-nav-btn.active .nav-icon-wrapper { padding: 6px 10px !important; }
}

@media (max-width: 360px) {
    .profile-nav-inner { padding: 5px 2px !important; }
    .profile-nav-btn { padding: 5px 8px !important; font-size: 0.6rem !important; min-width: 44px !important; min-height: 44px !important; }
    .profile-nav-btn i { font-size: 1.05rem !important; }
}

/* Шапки страниц — мобильная оптимизация */
@media (max-width: 480px) {
    .profile-header-top,
    .profile-header,
    .store-header { padding: 10px max(12px, env(safe-area-inset-left)) 10px max(12px, env(safe-area-inset-right)) !important; }
    .logo-icon { width: 44px !important; height: 44px !important; }
    .logo-text h1 { font-size: 1.1rem !important; }
    .logo-text p { font-size: 0.65rem !important; }
}

@media (max-width: 360px) {
    .profile-header-top,
    .profile-header,
    .store-header { padding: 8px max(10px, env(safe-area-inset-left)) 8px max(10px, env(safe-area-inset-right)) !important; }
    .logo-icon { width: 40px !important; height: 40px !important; }
    .logo-text h1 { font-size: 1rem !important; }
}

/* Store content — мобильная оптимизация */
@media (max-width: 480px) {
    .store-content { padding-left: max(16px, env(safe-area-inset-left)) !important; padding-right: max(16px, env(safe-area-inset-right)) !important; }
}

@media (max-width: 360px) {
    .store-content { padding-left: max(12px, env(safe-area-inset-left)) !important; padding-right: max(12px, env(safe-area-inset-right)) !important; }
}

/* Маркет, store-view — отступ под подвал на мобильных */
@media (max-width: 480px) {
    .market-view,
    .store-view { padding-bottom: max(95px, calc(80px + env(safe-area-inset-bottom, 0))) !important; }
    .market-cards-scroll { padding: 16px max(12px, env(safe-area-inset-left)); gap: 12px; }
    .market-section { padding: 16px max(12px, env(safe-area-inset-left)) !important; }
    .market-section-title { font-size: 1.3rem !important; margin-bottom: 16px !important; }
    .market-card { min-width: 260px !important; height: 140px !important; }
    .store-view-header { padding: 12px max(12px, env(safe-area-inset-left)) !important; }
}

@media (max-width: 360px) {
    .market-cards-scroll { padding: 12px max(10px, env(safe-area-inset-left)); gap: 10px; }
    .market-section { padding: 12px max(10px, env(safe-area-inset-left)) !important; }
    .market-section-title { font-size: 1.15rem !important; }
    .market-card { min-width: 220px !important; height: 125px !important; }
}

/* Профиль и общий контент — мобильная оптимизация */
@media (max-width: 480px) {
    .profile-content,
    .profile-container > * { padding-left: max(16px, env(safe-area-inset-left)); padding-right: max(16px, env(safe-area-inset-right)); box-sizing: border-box; }
    .user-card,
    .balance-section,
    .tab-content { padding-left: max(16px, env(safe-area-inset-left)); padding-right: max(16px, env(safe-area-inset-right)); }
    .btn-deposit-main,
    .btn-promo-main { min-height: 44px; min-width: 44px; padding: 12px 16px; }
}

@media (max-width: 360px) {
    .profile-content,
    .profile-container > *,
    .user-card,
    .balance-section,
    .tab-content { padding-left: max(12px, env(safe-area-inset-left)) !important; padding-right: max(12px, env(safe-area-inset-right)) !important; }
}
